<div fxLayout="column" fxFill class="custom-investment-of custom-pgr-height-auto">
    <mat-card fxFill>
      <mat-card-header class="">
        <mat-card-title class="title custom-payRoll-header"> 
          <p style="margin-right: 10px;font-size: 17px;float: left;"><b>Employee Provident Fund</b>
          </p>
          <i class="fa fa-edit" style="margin-left:13px;" aria-hidden="true" title="Edit" (click)="edit()"></i>
        </mat-card-title>
      </mat-card-header>

      <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="10px" class="custom-card">  
        <form [formGroup]="epfRequestForm" autocomplete="off" style="width:100%;">
            <div>
                <div fxLayout="column" fxFlex="5" class="custom-payroll-div">
                </div>    
                <div fxLayout="column" fxFlex="40" class="custom-payroll-div">
                    <div>                    

                        <p>
                            <mat-form-field appearance="outline" style="width: 100%;">
                                <mat-label>EPF Number</mat-label>
                                <input type="text" [readonly]="enable" matInput class="form-control" formControlName="epfNumber" placeholder="" minlength="17" maxlength="17" >
                                <mat-error class="con-error" *ngIf="  epfRequestForm.controls.epfNumber.valid">
                                  Please enter valid data.
                              </mat-error>
                            </mat-form-field>
                        </p>
                        <p>
                            <mat-form-field appearance="outline" style="width: 100%;">
                                <mat-label>Employee Contribution Rate</mat-label>
                                <mat-select [disabled]="enable" formControlName="employeeContribution">
                                    <ng-container>
                                      <div *ngFor="let b of employeecontribution">
                                          <mat-option value={{b.return_value}}>{{b.display_string}}</mat-option>
                                      </div>
  
                                  </ng-container>

                                </mat-select>
                            </mat-form-field>
                        </p>
                        <section class="example-section">
                            <span class="example-list-section">
                              <mat-checkbox class="example-margin"
                                            [checked]="allComplete"
                                            [color]="employeeContributionCTCColor"                                           
                                            (change)="setAll($event.checked,'employeeContribution')"                                           
                                            [disabled]="enable">
                                Include Employer's Contribution in the CTC
                              </mat-checkbox>
                            </span>
                            <span class="example-list-section" *ngIf="allComplete">
                              <ul formArrayName="checkboxes">
                                <li *ngFor="let subtask of checkboxes; let i = index" >
                                  <mat-checkbox [formControlName]="i"
                                                [color]="subtask.color"                                                
                                                [disabled]="enable">
                                    {{subtask.name}}
                                  </mat-checkbox>
                                </li>
                              </ul>
                            </span>
                          </section>
                          <!-- <section><mat-checkbox formControlName="pfRestrict">
                            Override PF contribution rate at employee Level
                            </mat-checkbox>
                            
                        </section> -->
                        <p>                           
                          <mat-form-field appearance="outline" style="width: 100%;">
                              <mat-label>Effective Date</mat-label>
                              <input matInput [matDatepicker]="picker" [disabled]="enable" formControlName="effective_date" [min]="mindate">                                
                              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                              <mat-datepicker #picker></mat-datepicker> 
                          </mat-form-field>
                      </p>
                        </div>
                </div> 
                <div fxLayout="column" fxFlex="5" class="custom-payroll-div">
                </div> 
                <div fxLayout="column" fxFlex="45"  class="custom-payroll-div">
                    <div>
                        
                        <p>                        
                            <mat-form-field appearance="outline" style="width: 100%;">
                                <mat-label>Deduction Cycle</mat-label>
                                <mat-select [disabled]=true formControlName="deductionCycle">
                                    <mat-option value="Monthly">Monthly</mat-option>
                                  
                                </mat-select>                                    
                            </mat-form-field>
                        </p>
                        <p>
                            <mat-form-field appearance="outline" style="width: 100%;">
                                <mat-label>Employers Contribution Rate</mat-label>
                                <mat-select [disabled]="enable" formControlName="employersContribution">
                                    <ng-container>
                                      <div *ngFor="let b of employercontribution">
                                          <mat-option value={{b.return_value}}>{{b.display_string}}</mat-option>
                                      </div>
                                  </ng-container>
                                </mat-select>
                            </mat-form-field>
                        </p>
                        <section ><a style="font-weight: bold;">PF Configuration when LOP is applied</a>
                          <ul>
                          <!-- <li>
                          <mat-checkbox formControlName="pfRestrict">
                          Pro-rate Restricted PF wage
                          </mat-checkbox>
                          
                          </li> -->
                          <li>
                            <mat-checkbox formControlName="pfRestrict" [disabled]="enable" [color]="employeeContributionCTCColor"  >
                              <!-- <a > Consider all applicable salary components if PF wage is less than ₹{{MaxPfWageForEmployerContribution}} after Loss of Pay</a>
                              <a>PF wage will be computed using the salary earned in that particular month (based on LOP) rather than the actual amount mentioned in the salary structure.</a>  -->
                            </mat-checkbox>
                            <a > Consider all applicable salary components if PF wage is less than ₹{{MaxPfWageForEmployerContribution}} after Loss of Pay.</a>
                            <a>  PF wage will be computed using the salary earned in that particular month (based on LOP) rather than the actual amount mentioned in the salary structure.</a>    
                          </li>
                          <li>
                            <a ></a>
                          </li>
                          </ul>
                         </section>
                         <!-- <section>PF Configuration when LOP is applied
                          <ul>
                          <li>
                          <mat-checkbox formControlName="pfRestrict">
                          Pro-rate Restricted PF wage
                          </mat-checkbox>
                          </li>
                          </ul>
                         </section> -->
                        <!-- <section class="example-section">
                            <span class="example-list-section">
                              <mat-checkbox class="example-margin"
                                            [checked]="allabryComplete"
                                            [color]="abryColor"                                             
                                            (change)="setAll($event.checked,'abryScheme')"                                           
                                            >
                                Eligible for ABRY Scheme
                              </mat-checkbox>
                            </span>
                            <span class="example-list-section" *ngIf="allabryComplete">
                              <ul formArrayName="abryCheckBoxes">
                                <li *ngFor="let subtask of abryCheckBoxes; let i = index" >
                                  <mat-checkbox [formControlName]="i"
                                                [color]="subtask.color"                                                
                                                >
                                    {{subtask.name}}
                                  </mat-checkbox>
                                </li>
                              </ul>
                            </span>
                          </section> -->
                        <!-- <p>                           
                            <mat-form-field appearance="outline" style="width: 100%;">
                                <mat-label>Effective Date</mat-label>
                                <input matInput [matDatepicker]="picker" formControlName="effective_date" [min]="mindate">                                
                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-datepicker #picker></mat-datepicker> 
                            </mat-form-field>
                        </p> -->
                        
                    </div>
                </div>        
                
            </div> 
            <div fxLayout="row"   fxLayoutAlign="center center">
               
                <p style="margin-top:-100px;"> 
              Note: <span style="color: red;">This configuration of EPF is applicable to all Pay Groups that contain EPF as a deduction component.</span>
              </p>
              
            </div>      
            <div class="form-group row" style="margin-bottom: 15px !important;" *ngIf="!enable">
                <div class="col-sm-6 text-right" style="padding:0px">
                <button class="mx-1 mat-stroked-button button-save"  style="background-color:#3f51b5;color:aliceblue" (click)="setEpf()"   type="submit">
                    <span>Save</span>
                </button>
                </div>
                <div class="col-sm-6">
                <button class="mx-1  mat-stroked-button button-clear" style="background-color:#550534;color:aliceblue" (click)="cancel()">
                    <span >Cancel</span>
                </button>
                </div>
            </div>
            <br> 
        </form>     
     </div>
   </mat-card>
</div>        